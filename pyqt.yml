name: PyQt5
cleanup:
- "/include"
- "/lib/python3.10/site-packages/*.pyi"
- "/lib/python3.10/site-packages/PyQt5/uic"
config-opts:
- "--disable-static"
- "--enable-x11"
buildsystem: simple
build-commands:
- sip-install
  --target-dir ${FLATPAK_DEST}/lib/python3.10/site-packages
  --scripts-dir ${FLATPAK_DEST}/bin
  --build-dir ./build
  --jobs ${FLATPAK_BUILDER_N_JOBS}
  --confirm-license
  --no-docstrings
  --assume-shared
  --no-sip-files
  --no-docstrings
  --no-qml-plugin
  --no-designer-plugin
  --no-tools
  --no-qsci-api
  --disable=QtSensors
  --disable=QtWebEngine
  --disable=QtQuick
  --disable=QtQml
  --disable=QtTest
  --disable=QtWebChannel
  --disable=QtWebEngineCore
  --disable=QWebEngineWidgets
  --disable=QtQuickWidgets
  --disable=QtSql
  --disable=QtXmlPatterns
  --disable=QtMultimedia
  --disable=QtMultimediaWidgets
  --disable=QtLocation
  --disable=QtDesigner
  --disable=QtOpenGL
  --disable=QtBluetooth
  --disable=QtWebKit
  --disable=QtWebKitWidgets
  --disable=QtNfc
  --disable=QtPositioning
  --disable=QtHelp
  --disable=QtNetwork
  --disable=QtPrintSupport
  --disable=QtXml
  --disable=QtSerialPort
  --disable=QtWebSockets
  --disable=QtRemoteObjects
  --disable=QtTextToSpeech
  --disable=_QOpenGLFunctions_2_0
  --disable=_QOpenGLFunctions_2_1
  --disable=_QOpenGLFunctions_4_1_Core
sources:
- type: archive
  url: https://files.pythonhosted.org/packages/4d/5d/b8b6e26956ec113ad3f566e02abd12ac3a56b103fcc7e0735e27ee4a1df3/PyQt5-5.15.10.tar.gz
  sha256: d46b7804b1b10a4ff91753f8113e5b5580d2b4462f3226288e2d84497334898a
modules:
- name: sip
  cleanup:
  - "/bin/sip*"
  - "/lib/python3.10/site-packages/sip*"
  buildsystem: simple
  build-commands:
  - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}"
    --prefix=${FLATPAK_DEST} "sip" --no-build-isolation
  sources:
  - type: file
    url: https://files.pythonhosted.org/packages/a6/4e/c34eee70109e9a8110672f074fc18b5022bf4b9b4c92641245c73ae0b21a/sip-6.7.12.tar.gz
    sha256: 08e66f742592eb818ac8fda4173e2ed64c9f2d40b70bee11db1c499127d98450
- name: PyQt5_sip
  buildsystem: simple
  build-commands:
  - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}"
    --prefix=${FLATPAK_DEST} "PyQt5-sip" --no-build-isolation
  sources:
  - type: file
    url: https://files.pythonhosted.org/packages/ee/81/fce2a475aa56c1f49707d9306b930695b6ff078c2242c9f2fd72a3214e1f/PyQt5_sip-12.13.0.tar.gz
    sha256: 7f321daf84b9c9dbca61b80e1ef37bdaffc0e93312edae2cd7da25b953971d91
